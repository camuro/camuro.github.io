<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta content='IE=edge;chrome=1' http-equiv='X-UA-Compatible'>
<meta content='width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0' name='viewport'>
<title>リモートインターン ｜ MIddleman 事始め</title>
<link href="../../../stylesheets/normalize.css" rel="stylesheet" /><link href="../../../stylesheets/all.css" rel="stylesheet" /><link href="http://yui.yahooapis.com/pure/0.2.1/menu-min.css" rel="stylesheet" />
<script src="../../../javascripts/all.js"></script>
</head>
<body class='blog blog_2013 blog_2013_03 blog_2013_03_05004013'>
<div class='pure-g-r' id='layout'>
<div class='sidebar pure-u'>
<div class='menu-box'>
<a class='heading' href='/'>
camuro
</a>
<nav>
<ul class='menu cl-effect-5'>
<li class='menu-item'>
<a href='/'>
<span data-hover='Home'>Home</span>
</a>
</li>
<li class='menu-item'>
<a href='/about.html'>
<span data-hover='About'>About</span>
</a>
</li>
<li class='menu-item'>
<a href='/works.html'>
<span data-hover='Works'>Works</span>
</a>
</li>
<li class='menu-item'>
<a href='/blog.html'>
<span data-hover='Blog'>Blog</span>
</a>
</li>
</ul>
</nav>
<form>
<input class='st-search-input' id='st-search-input' type='text'>
</form>
<script>
  var Swiftype = window.Swiftype || {};
    (function() {
      Swiftype.key = 'gGZQLNj5d36eyibDuysX';
  
      /** DO NOT EDIT BELOW THIS LINE **/
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = "//s.swiftypecdn.com/embed.js";
      var entry = document.getElementsByTagName('script')[0];
      entry.parentNode.insertBefore(script, entry);
    }());
</script>
</div>

</div>
<div class='pure-u-1'>
<div class='main' id='blog'>
<article class='post'>
<div class='post-head'>
<h2>
リモートインターン ｜ MIddleman 事始め
</h2>
<div class='date'>
<time>Mar  5 2013</time>
<ul class='tags'>
</ul>
</div>
</div>
<div class='post-body'>
<p>今回はMiddlemanを学習していきました。</p>

<p><strong>Middleman とは</strong>
モダンな web 開発環境のすべてのショートカットやツールを使用して静的 web サイトを作成するためのコマンドラインツールです。（コピペ）
詳しくは下記参照
<a href="http://middlemanapp.com/" title="http://middlemanapp.com/">http://middlemanapp.com/</a>
<a href="http://middleman-guides.e2esound.com/" title="http://middleman-guides.e2esound.com/">http://middleman-guides.e2esound.com/</a></p>

<p>以下、手順</p>

<p>1.middlemanをインストール</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gem install middleman
</code></pre></div></div>

<p>2.プロジェクトのスケルトンを作成</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ middleman init [project-name]
</code></pre></div></div>

<p>生成されるプロジェクトツリー</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>first-middleman
├── .bundle/
│   └── config
├── .gitignore
├── Gemfile
├── Gemfile.lock
├── config.rb
└── source/
    ├── images/
    │   ├── background.png
    │   └── middleman.png
    ├── index.html.erb
    ├── javascripts/
    │   └── all.js
    ├── layouts/
    │   └── layout.erb
    └── stylesheets/
        ├── all.css
        └── normalize.css
</code></pre></div></div>

<p>3.サーバーの起動</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cd [project-name]
$ middleman server
</code></pre></div></div>

<p>middleman単独でもいける。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ middleman
</code></pre></div></div>

<p>4.ブラウザで<a href="http://0.0.0.0:4567/" title="http://0.0.0.0:4567">http://0.0.0.0:4567</a>へアクセス
<a href="../../../images/2013/03/middleman.png"><img class="alignnone size-medium wp-image-526" alt="middleman" src="../../../images/2013/03/middleman-300x167.png" width="300" /></a>
こんな感じに表示される。</p>

<p>5.ビルド</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cd [project-name]
$ middleman build
</code></pre></div></div>

<p>ビルド後のproject-tree</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>first-middleman
├── .bundle/
│ └── config
├── .gitignore
├── Gemfile
├── Gemfile.lock
├── build/
│ ├── images/
│ │ ├── background.png
│ │ └── middleman.png
│ ├── index.html
│ ├── javascripts/
│ │ └── all.js
│ └── stylesheets/
│     ├── all.css
│     └── normalize.css
├── config.rb
└── source/
    ├── images/
    │ ├── background.png
    │ └── middleman.png
    ├── index.html.erb
    ├── javascripts/
    │ └── all.js
    ├── layouts/
    │ └── layout.erb
    └── stylesheets/
        ├── all.css
        └── normalize.css
</code></pre></div></div>

<p>一度buildしてserver起動している状態で、source内のファイルの変更は即適用されるようだ。</p>

<p><strong>middlemanでブログを作る方法</strong></p>

<p>1.Gemfileでgemを指定して</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s2">"middleman-blog"</span><span class="p">,</span> <span class="s2">"~&gt;3.1.1"</span>
</code></pre></div></div>

<p>bundle installする。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ bundle install
</code></pre></div></div>

<p>若しくは、単独でgem install</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gem install middleman-blog
</code></pre></div></div>

<p>次に, config.rb で拡張を有効化する。</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">activate</span> <span class="ss">:blog</span> <span class="k">do</span> <span class="o">|</span><span class="n">blog</span><span class="o">|</span>
  <span class="c1"># ブログ機能のオプションを設定</span>
<span class="k">end</span>
</code></pre></div></div>

<p>2.initするときに最初っからブログテンプレートをつけてしまう。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ middleman init [project-name] --template=blog
</code></pre></div></div>

<p>生成されるブログはこんな感じ。</p>

<p><a href="../../../images/2013/03/0.0.0.04567.png"><img class="alignnone size-medium wp-image-530" alt="" src="../../../images/2013/03/0.0.0.04567-300x165.png" width="300" /></a></p>

<p><strong>ブログの記事について</strong>
source直下に、下記のような名前でマークダウン形式のファイルが生成される。
/source/2012-01-01-example-article.html.markdown
ファイルの置き場が気持ち悪い場合は、config.rbの下記の箇所のコメントアウトを外す。</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># blog.prefix = "blog"</span>
</code></pre></div></div>

<p>/source/blog/のようにsourceの下にblogのディレクトリを作って、先ほどのマークダウンのファイルを格納するだけでいい。</p>

<p><strong>Compass &amp; Sass について</strong>
middleman initするだけでcompassもsassもインストールされる。
気をつけるのはsassファイルの置き場と拡張子だけ。
/source/stylesheets/の下にstyle.css.sassのようなファイル名で配置してあげると良い。
compass使う場合も、sassファイルの先頭で@import compassを宣言するのみなので、通常通り。</p>

<p><strong>LiveReload</strong>
LiveReloadは便利なやつ。css編集して保存するとブラウザで変更箇所がオートリロードしてくれるので素敵。（<del>sassで書いた場合はbuildしないと駄目だけど。</del>→リンクヘルパー使えばいけるか？後ほど検証します。<a title="リモートインターン ｜ MIddleman 実践（1）" href="http://camuro.org/wordpress/?p=541">→検証しました。</a>）
blogの時と同様に、Gemfileでgemを指定してbundle installする。</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s2">"middleman-livereload"</span><span class="p">,</span> <span class="s2">"~&gt;3.0.1"</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ bundle install
</code></pre></div></div>

<p>config.rbで下記を記述し有効化する。</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">activate</span> <span class="ss">:livereload</span>
</code></pre></div></div>

<p>あとはブラウザにLiveReloadのextentionを入れておけばOK。
最後に、サーバーを再起動してブラウザを見ながらエディタでcssなどを編集してLiveReloadを体感する。</p>

<p>今日はここまで。長くなったので記事分割した方が良かった気がする。
一番よくわかってないerb周りのことは後回しにしてしまったので、次回そのあたりを学習します。</p>

</div>
<div class='post-comment'>
<div id='disqus_thread'></div>
<script type='text/javascript'>
//<![CDATA[
                  var disqus_shortname = 'camuro';
          
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
//]]>
</script>
<noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a></noscript>
<a href='http://disqus.com' class='dsq-brlink'>comments powered by <span class='logo-disqus'>Disqus</span></a>

</div>
</article>
<ul class='post-list'>
<li>
<h3>2014</h3>
<ul class='post-list-item'>
<li>
<a href='/blog/2014/11/whitebox.html'>石橋秀美の解剖図展「しろいはこ」がまもなく開催されます。</a>
</li>
<li>
<a href='/blog/2014/10/makershub.html'>MakersHubの名刺をデザインしました。</a>
</li>
<li>
<a href='/blog/2014/01/pplog.html'>pplogのAlfred Workflowを作った</a>
</li>
</ul>
</li>
<li>
<h3>2013</h3>
<ul class='post-list-item'>
<li>
<a href='/blog/2013/11/tmm.html'>Tokyo Middleman Meetup #1でSusyのお話をしてきた</a>
</li>
<li>
<a href='/blog/2013/11/adventar.html'>Adventarのリニューアルデザインをお手伝いしたお話</a>
</li>
<li>
<a href='/blog/2013/09/renewal.html'>WordPressからmiddlemanに移行してGithub Pagesで運用する方法</a>
</li>
<li>
<a href='/blog/2013/05/14011654.html'>RubyHiroba 2013 のサイトデザインしました</a>
</li>
<li>
<a href='/blog/2013/04/20021938.html'>リモートインターン ｜ Middleman 実践（4）- Githubページへデプロイする方法</a>
</li>
</ul>
</li>
<li>
<h3>2012</h3>
<ul class='post-list-item'>
<li>
<a href='/blog/2012/12/21004721.html'>リモートインターン15-17日目 ｜ CSS & Sass & Compass ( &SCOUT )の学習</a>
</li>
<li>
<a href='/blog/2012/12/08010025.html'>リモートインターン13-14日目 ｜ 怖話コミックの漫画を依頼する人を探す</a>
</li>
<li>
<a href='/blog/2012/12/04000102.html'>リモートインターン12日目 ｜ Bufferにポストを予約</a>
</li>
<li>
<a href='/blog/2012/12/03120008.html'>ルートパスでローカルサーバーの構築をする場合の手順</a>
</li>
<li>
<a href='/blog/2012/11/30235317.html'>リモートインターン11日目 ｜ Webの基本 – HTML課題 / CSSの基礎</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<script src="../../../javascripts/mylibs/google.js"></script>
</body>
</html>
